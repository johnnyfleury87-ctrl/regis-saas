<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <title>Tickets – Régie</title>
  <link rel="stylesheet" href="tickets.css" />
  <script defer src="tickets.js"></script>
</head>

<body>
  <a class="back-btn" href="/regie/index.html">← Retour au tableau de bord</a>

  <main class="page">
    <header class="page-header">
      <h1>Tickets</h1>
      <p class="subtitle">Suivi des interventions locataires</p>
    </header>

    <!-- Dans public/regie/tickets.html, remplacez l'ancienne section "toolbar" -->

<div class="filters-container">
  <button class="filter-btn active" data-filter="all">
    Tous (<span data-count="all">0</span>)
  </button>
  <button class="filter-btn" data-filter="nouveaux">
    Nouveaux (<span data-count="nouveaux">0</span>)
  </button>
  <button class="filter-btn" data-filter="en_cours">
    En cours (<span data-count="en_cours">0</span>)
  </button>
  <button class="filter-btn" data-filter="termine">
    Terminés (<span data-count="termine">0</span>)
  </button>
</div>

    <section id="tickets-container" class="ticket-list"></section>

    <div id="empty-state" class="empty-state hidden">
      <p>Aucun ticket ne correspond à ce filtre.</p>
    </div>
  </main>
  <!-- ========================================================== -->
<!--     HTML DU POP-UP D'ASSIGNATION (MODAL)                 -->
<!-- (Coller ce bloc avant la fin de </body> dans tickets.html) -->
<!-- ========================================================== -->
<div id="assign-modal" class="modal-overlay hidden">
  <div class="modal-content">
    <header class="modal-header">
      <h2>Publier une mission</h2>
      <button id="close-modal-btn" class="close-btn">&times;</button>
    </header>
    <main class="modal-body">
      <div class="form-group">
        <label for="priorite-select">Niveau d'urgence</label>
        <select id="priorite-select">
          <option value="P4">P4 - Basse</option>
          <option value="P3">P3 - Moyenne</option>
          <option value="P2">P2 - Haute</option>
          <option value="P1">P1 - Urgente</option>
        </select>
      </div>
      <div class="form-group">
        <label for="budget-input">Plafond budgétaire (CHF)</label>
        <input type="number" id="budget-input" placeholder="Ex: 500" />
      </div>
    </main>
    <footer class="modal-footer">
      <button id="publish-mission-btn" class="btn-action">Publier la mission</button>
    </footer>
  </div>
</div>
</body>
</html>
