<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Techniciens - Espace Entreprise</title>
  <link rel="stylesheet" href="entreprise.css">
  <script defer src="techniciens.js"></script>
</head>
<body>
  <div class="page-wrapper">
    <header class="page-header">
      <div>
        <a href="index.html" class="btn btn-secondary">← Retour</a>
        <h1>Techniciens</h1>
        <p class="help-text">Ajoutez vos collaborateurs pour leur donner accès aux missions.</p>
      </div>
      <div class="page-actions">
        <button id="open-create" class="btn btn-primary">Nouveau technicien</button>
      </div>
    </header>

    <section>
      <div id="techniciens-empty" class="empty-state hidden">
        <h2>Aucun technicien</h2>
        <p>Ajoutez votre premier collaborateur pour l'associer aux missions.</p>
      </div>
      <div id="techniciens-list" class="techniciens-grid"></div>
    </section>
  </div>

  <div id="technicien-modal" class="modal-overlay hidden">
    <div class="modal">
      <div>
        <h2 id="modal-title">Nouveau technicien</h2>
        <p id="modal-subtitle" class="help-text">Les identifiants seront envoyés automatiquement par e-mail.</p>
      </div>
      <form id="technicien-form">
        <input type="hidden" name="technicien_id" id="technicien_id">
        <div class="form-group">
          <label for="nom">Nom complet *</label>
          <input type="text" id="nom" name="nom" placeholder="Jean Dupont" required>
        </div>
        <div class="form-group">
          <label for="email">Email *</label>
          <input type="email" id="email" name="email" placeholder="jean.dupont@exemple.ch" required>
        </div>
        <div class="form-group" id="password-group">
          <label for="password">Mot de passe provisoire *</label>
          <input type="text" id="password" name="password" placeholder="Minimum 8 caractères" minlength="8" required>
          <p class="help-text">Il pourra être modifié par le technicien lors de sa première connexion.</p>
        </div>
        <div class="form-group">
          <label for="poste">Poste</label>
          <input type="text" id="poste" name="poste" placeholder="Plombier, Électricien…">
        </div>
        <div class="form-group">
          <label for="telephone">Téléphone</label>
          <input type="tel" id="telephone" name="telephone" placeholder="079 000 00 00">
        </div>
        <div class="form-group">
          <label for="competences">Compétences</label>
          <textarea id="competences" name="competences" rows="2" placeholder="Séparez par des virgules (ex: Plomberie, Serrurerie)"></textarea>
        </div>
        <div class="form-group">
          <label for="statut">Statut</label>
          <select id="statut" name="statut">
            <option value="disponible">Disponible</option>
            <option value="occupe">Occupé</option>
            <option value="conge">En congé</option>
          </select>
        </div>
        <div class="modal-actions">
          <button type="button" id="cancel-modal" class="btn btn-secondary">Annuler</button>
          <button type="submit" class="btn btn-primary">Enregistrer</button>
        </div>
      </form>
    </div>
  </div>
</body>
</html>
